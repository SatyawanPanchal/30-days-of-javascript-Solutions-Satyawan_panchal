<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="../js files/countries_data.js"></script>
<body>
    <script>




//1.How many languages are there in the countries object file.

function howManyFinder(arr)
{
    let allLanguagesSpoken=[]
        arr.forEach((ele)=>{
            //console.log(ele.languages);
            allLanguagesSpoken.push(ele.languages) 
        })


        allLanguages=allLanguagesSpoken.toString().split(",") 
        //console.log("All langs --->",allLanguages);
        
        let languagesSet= new Set(allLanguages)
//        console.log("set ---->",languagesSet);
        return languagesSet      

}

console.log("Q 1 ====> total languages  ",howManyFinder(countries_data));





// 2. Use the countries data to find the 10 most spoken languages:
        function mostSpokenLanguages( n=10)
        {

         
        let allLanguagesSpoken=[]
        countries_data.forEach((ele)=>{
            //console.log(ele.languages);
            allLanguagesSpoken.push(ele.languages) 
        })


        allLanguages=allLanguagesSpoken.toString().split(",") 
        //console.log("All langs --->",allLanguages);

        let languagesSet= new Set(allLanguages)
        //console.log("set ---->",languagesSet);
        
        let langcount=[]

        for( language of languagesSet)
        {
            let filteredlang=allLanguages.filter((lang)=>language==lang) 
            langcount.push({language:language , count :filteredlang.length})   
            
        } 

        langcount.sort((a, b) => {
            if (a.count > b.count) { return -1 }
            if (a.count < b.count) { return 1 }
            return 0
        })
        
        let formatedArray=[]
        console.log("==>",langcount);

        for(lang of langcount)
        {
             formatedArray.push(`{${lang.language}:${lang.count}}`)
        }
        return formatedArray.slice(0,n)
    }

    console.log(mostSpokenLanguages(10))
    console.log(mostSpokenLanguages(3));
    
    
        
        










    </script>
</body>

</html>
    </script>
</body>
</html>